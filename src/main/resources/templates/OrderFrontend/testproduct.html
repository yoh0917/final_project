<!DOCTYPE html>
<html lang="zh-Hant" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>訂單頁面</title>
    <script>
        async function fetchOrderDetails() {
            try {
                const response = await fetch('/testproduct');
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                const orderDetails = await response.json();
                displayOrderDetails(orderDetails);
            } catch (error) {
                console.error('There was a problem with the fetch operation:', error);
            }
        }

        function displayOrderDetails(orderDetails) {
            const container = document.getElementById('orderDetailsContainer');
            container.innerHTML = '';

            orderDetails.forEach(order => {
                const orderDiv = document.createElement('div');
                orderDiv.innerHTML = `
                    <p>顧客ID: ${order.顧客ID}</p>
                    <p>總計: ${order.總計}</p>
                    <h3>商品明細:</h3>
                    <ul>
                        ${order.商品明細.map(product => `
                            <li>
                                產品ID: ${product.產品ID}, 數量: ${product.數量}, 價格: ${product.價格}, 總計: ${product.總計}
                            </li>
                        `).join('')}
                    </ul>
                `;
                container.appendChild(orderDiv);
            });
        }
    </script>
</head>
<body>
<h1>訂單列表</h1>
<button onclick="fetchOrderDetails()">獲取訂單詳情</button>
<div id="orderDetailsContainer"></div>
</body>
</html>
